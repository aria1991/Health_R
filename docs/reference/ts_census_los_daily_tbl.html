<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Time Series - Census and LOS by Day — ts_census_los_daily_tbl • healthyR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Time Series - Census and LOS by Day — ts_census_los_daily_tbl" />
<meta property="og:description" content="Sometimes it is important to know what the census was on any given day, or what
the average length of stay is on given day, including for those patients that
are not yet discharged. This can be easily achieved. This will return one
record for every account so the data will still need to be summarized.
This function can take a little bit of time to run while the join comparison runs." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3393M45M1X"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3393M45M1X');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">healthyR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.4.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Documentation
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Getting Started</li>
    <li>
      <a href="../articles/getting-started.html">Getting Started with healthyR</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Function Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/spsanderson/healthyR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Time Series - Census and LOS by Day</h1>
    <small class="dont-index">Source: <a href='https://github.com/spsanderson/healthyR/blob/master/R/data_tbl_functions.R'><code>R/data_tbl_functions.R</code></a></small>
    <div class="hidden name"><code>ts_census_los_daily_tbl.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Sometimes it is important to know what the census was on any given day, or what
the average length of stay is on given day, including for those patients that
are not yet discharged. This can be easily achieved. This will return one
record for every account so the data will still need to be summarized.</p>
<p><strong>This function can take a little bit of time to run while the join comparison runs.</strong></p>
    </div>

    <pre class="usage"><span class='fu'>ts_census_los_daily_tbl</span><span class='op'>(</span>
  <span class='va'>.data</span>,
  .keep_nulls_only <span class='op'>=</span> <span class='cn'>FALSE</span>,
  <span class='va'>.start_date_col</span>,
  <span class='va'>.end_date_col</span>,
  .by_time <span class='op'>=</span> <span class='st'>"day"</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>.data</th>
      <td><p>The data you want to pass to the function</p></td>
    </tr>
    <tr>
      <th>.keep_nulls_only</th>
      <td><p>A boolean that will keep only those records that have
a NULL end date, meaning the patient is still admitted. The default is FALSE which
brings back all records.</p></td>
    </tr>
    <tr>
      <th>.start_date_col</th>
      <td><p>The column containing the start date for the record</p></td>
    </tr>
    <tr>
      <th>.end_date_col</th>
      <td><p>The column containing the end date for the record.</p></td>
    </tr>
    <tr>
      <th>.by_time</th>
      <td><p>How you want the data presented, defaults to day and should remain
that way unless you need more granular data.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A tibble object</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    
<ul>
<li><p>Requires a dataset that has at least a start date column and an end date
column</p></li>
<li><p>Takes a single boolean parameter</p></li>
</ul>

    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Steven P. Sanderson II, MPH</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/spsanderson/healthyR'>healthyR</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/spsanderson/healthyR.data'>healthyR.data</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span>

<span class='va'>df</span> <span class='op'>&lt;-</span> <span class='va'>healthyR_data</span>

<span class='va'>df_tbl</span> <span class='op'>&lt;-</span> <span class='va'>df</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>ip_op_flag</span> <span class='op'>==</span> <span class='st'>"I"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>visit_start_date_time</span>, <span class='va'>visit_end_date_time</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>timetk</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/timetk/man/filter_by_time.html'>filter_by_time</a></span><span class='op'>(</span>.date_var <span class='op'>=</span> <span class='va'>visit_start_date_time</span>, .start_date <span class='op'>=</span> <span class='st'>"2020"</span><span class='op'>)</span>

<span class='fu'>ts_census_los_daily_tbl</span><span class='op'>(</span>
   .data              <span class='op'>=</span> <span class='va'>df_tbl</span>
   , .keep_nulls_only <span class='op'>=</span> <span class='cn'>FALSE</span>
   , .start_date_col  <span class='op'>=</span> <span class='va'>visit_start_date_time</span>
   , .end_date_col    <span class='op'>=</span> <span class='va'>visit_end_date_time</span>
<span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: package 'RSQLite' was built under R version 4.0.5</span></div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 7,075 x 5</span>
#&gt;    date       start_date end_date     los census
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;date&gt;</span>     <span style='color: #949494; font-style: italic;'>&lt;date&gt;</span>     <span style='color: #949494; font-style: italic;'>&lt;date&gt;</span>     <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span>  <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 1</span> 2020-01-01 2020-01-01 2020-01-01     0      1
#&gt; <span style='color: #BCBCBC;'> 2</span> 2020-01-01 2020-01-01 2020-01-02     1      1
#&gt; <span style='color: #BCBCBC;'> 3</span> 2020-01-01 2020-01-01 2020-01-02     1      1
#&gt; <span style='color: #BCBCBC;'> 4</span> 2020-01-01 2020-01-01 2020-01-02     1      1
#&gt; <span style='color: #BCBCBC;'> 5</span> 2020-01-01 2020-01-01 2020-01-03     2      1
#&gt; <span style='color: #BCBCBC;'> 6</span> 2020-01-01 2020-01-01 2020-01-03     2      1
#&gt; <span style='color: #BCBCBC;'> 7</span> 2020-01-01 2020-01-01 2020-01-03     2      1
#&gt; <span style='color: #BCBCBC;'> 8</span> 2020-01-01 2020-01-01 2020-01-04     3      1
#&gt; <span style='color: #BCBCBC;'> 9</span> 2020-01-01 2020-01-01 2020-01-04     3      1
#&gt; <span style='color: #BCBCBC;'>10</span> 2020-01-01 2020-01-01 2020-01-04     3      1
#&gt; <span style='color: #949494;'># ... with 7,065 more rows</span></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Steven Sanderson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


